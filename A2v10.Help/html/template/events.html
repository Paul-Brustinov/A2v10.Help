<div>
	<!--title:Шаблоны. События-->
	<!--keywords:events;События;-->
	<div class="title">
		<h1>
			Шаблоны. События
		</h1>
		<div class="breadcrumb">
			<a href="index">Шаблоны</a>
		</div>
	</div>

	<p>
		Объект, описывающий события в шаблоне, является обычным объектом JavaScript.
		Имена свойств этого объекта являются именами событий, а значения - функциями, которые будут вызваны при возникновении события.
	</p>

	<p>
		Имена событий конструируются различным образом в зависимости от типа события:
		<ul>
			<li>для всей модели имена фиксированные;</li>
			<li>для события создания объекта конструируются из типа объекта и суффикса <code class="string">.constuct</code>;</li>
			<li>для событий изменения данных из полного пути к элементу данных и заданного суффикса.</li>
		</ul>
	</p>

	<p>Полный путь к элементу данных фактически представляет собой полное имя свойства объекта, начиная от корня модели. Для указания
	элемента массива используется суффикс <code>[]</code>.
	</p>
	
	<p>
		Например:
<pre class="code-highlight js" data-lang="js">
<script type="text/template">
const tempate = {
  events: {
    'Model.load': modelLoad,              // функция modelLoad вызовется после загрузки модели
    'TDocument.construct': docConstruct,  // функция docConstruct вызовется после создания объекта типа TDocument
    'Document.Name.change': nameChange    // функция nameChange вызовется при изменении свойства Name объекта Document
    'Document.Rows[].change': rowsAdd     // функция rowsAdd вызовется при добавлении строки в массив Rows объекта Document
  }
}
</script>
</pre>
	</p>

	<h3>Cобытия для всей модели</h3>
	<p>Эти события имеют фиксированные имена.</p>
	<ul>
		<li><a class="code-link" href="event_model">Model.load</a> - модель загружена</li>
		<li><a class="code-link" href="event_model">Model.saved</a> - модель сохранена</li>
	</ul>

	<h3>События для объектов</h3>
	<ul>
		<li><a class="code-link" href="event_construct">.construct</a> - объект создан. Префикс имени события представляет собой имя типа объекта.</li>
		<li><a class="code-link" href="event_change">.change</a> - значение свойства изменено. Префикс имени события представляет собой полный путь к свойству в модели данных.</li>
		<li><a class="code-link" href="event_changing">.changing</a> - значение свойства будет изменено. Префикс имени события представляет собой полный путь к свойству в модели данных. Имеется возможность отменить изменения.</li>
	</ul>

	<h3>События для массивов</h3>
	<p>Префикс имени для всех событий массивов представляет собой полный путь к свойству в модели.</p>
	<ul>
		<li><a class="code-link" href="event_array">.[].adding</a> - перед добавлением элемента в массив</li>
		<li><a class="code-link" href="event_array">.[].add</a> - элемент добавлен в массив</li>
		<li><a class="code-link" href="event_array">.[].remove</a> -  элемент удален из массива</li>
		<li><a class="code-link" href="event_array">.[].select</a> - элемент массива выбран</li>
	</ul>

	<p class="tip warning">
		<b>Обратите внимание!</b> Модель событий в системе связана с данными, а не с элементами пользовательского интерфейса.
		Другими словами, события возникают тогда, когда меняются данные. Возникновение событий никак не связано с пользовательским
		интерфейсом. Фактически, пользовательского интерфейса вообще может не быть.
	</p>
</div>