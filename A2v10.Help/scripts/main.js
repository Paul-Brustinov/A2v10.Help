(function() { /*GENERATED*/const content = {"items":[{"title":"A2v10:SDK","url":"/index","items":[{"title":"Что нового","url":"/whatsnew/index","items":[{"title":"Июль 2018","url":"/whatsnew/w201807"},{"title":"Июнь 2018","url":"/whatsnew/w201806"},{"title":"Май 2018","url":"/whatsnew/w201805"},{"title":"Апрель 2018","url":"/whatsnew/w201804"},{"title":"Март 2018","url":"/whatsnew/w201803"},{"title":"Февраль 2018","url":"/whatsnew/w201802"}]}]},{"title":"Модели","url":"/models/index","items":[{"title":"Модели данных","url":"/models/datamodels"},{"title":"model.json","url":"/models/modelfile"}]},{"title":"Представления","url":"/views/index","items":[{"title":"Xaml","url":"/xaml/index","items":[{"title":"Элементы управления","url":"/xaml/controls/index","items":[{"title":"Button","url":"/xaml/controls/button"},{"title":"Checkbox","url":"/xaml/controls/checkbox"},{"title":"DataGrid","url":"/xaml/controls/datagrid"},{"title":"DataGridColumn","url":"/xaml/controls/datagridcolumn"},{"title":"DatePicker","url":"/xaml/controls/datepicker"},{"title":"List","url":"/xaml/controls/list"},{"title":"ListItem","url":"/xaml/controls/listitem"},{"title":"MenuItem","url":"/xaml/controls/menuitem"},{"title":"Image","url":"/xaml/controls/image"},{"title":"Radio","url":"/xaml/controls/radio"},{"title":"PeriodPicker","url":"/xaml/controls/periodpicker"},{"title":"Selector","url":"/xaml/controls/selector"},{"title":"Table","url":"/xaml/controls/table"},{"title":"TableCell","url":"/xaml/controls/tablecell"},{"title":"TableMarkCell","url":"/xaml/controls/tablemarkcell"},{"title":"TableRow","url":"/xaml/controls/tablerow"},{"title":"TextBox","url":"/xaml/controls/textbox"}]},{"title":"Контейнеры","url":"/xaml/containers/index","items":[{"title":"Block","url":"/xaml/containers/block"},{"title":"Dialog","url":"/xaml/containers/dialog"},{"title":"DropDownMenu","url":"/xaml/containers/dropdownmenu"},{"title":"Grid","url":"/xaml/containers/grid"},{"title":"GridGroup","url":"/xaml/containers/gridgroup"},{"title":"Include","url":"/xaml/containers/include"},{"title":"Partial","url":"/xaml/containers/partial"},{"title":"Splitter","url":"/xaml/containers/splitter"},{"title":"StackPanel","url":"/xaml/containers/stackpanel"},{"title":"Taskpad","url":"/xaml/containers/taskpad"}]},{"title":"Текстовые элементы","url":"/xaml/text/index","items":[{"title":"Break","url":"/xaml/text/break"},{"title":"Hyperlink","url":"/xaml/text/hyperlink"},{"title":"Line","url":"/xaml/text/line"},{"title":"Popover","url":"/xaml/text/popover"},{"title":"Span","url":"/xaml/text/span"},{"title":"TagLabel","url":"/xaml/text/taglabel"},{"title":"Text","url":"/xaml/text/text"}]},{"title":"Привязки","url":"/xaml/bind/index","items":[{"title":"Bind","url":"/xaml/bind/bind"},{"title":"BindCmd","url":"/xaml/bind/bindcmd"}]}]}]},{"title":"Контроллеры","url":"/controllers/index","items":[{"title":"Шаблоны","url":"/template/index","items":[{"title":"Свойства","url":"/template/properties"},{"title":"События","url":"/template/events"},{"title":"Команды","url":"/template/commands"},{"title":"Валидаторы","url":"/template/validators"}]},{"title":"Модули","url":"/modules/index","items":[{"title":"std:utils","url":"/modules/stdutils"}]},{"title":"ViewModel","url":"/viewmodel/index"}]},{"title":"О справочной системе","url":"/app/about"}]};const files = [{"url":"/index","title":"Платформа А2"},{"url":"/app/about","title":"О программе"},{"url":"/controllers/index","title":"Контроллеры"},{"url":"/models/datamodels","title":"Модели данных"},{"url":"/models/index","title":"Модели"},{"url":"/models/modelfile","title":"Файл model.json"},{"url":"/template/commands","title":"Шаблоны. Команды"},{"url":"/template/events","title":"Шаблоны. События"},{"url":"/template/index","title":"Шаблоны"},{"url":"/template/properties","title":"Шаблоны. Свойства"},{"url":"/template/validators","title":"Шаблоны. Валидаторы"},{"url":"/views/index","title":"Представления"},{"url":"/whatsnew/index","title":"Что нового"},{"url":"/whatsnew/w201802","title":"Что нового. Февраль 2018"},{"url":"/whatsnew/w201803","title":"Что нового. Март 2018"},{"url":"/whatsnew/w201804","title":"Что нового. Апрель 2018"},{"url":"/whatsnew/w201805","title":"Что нового. Май 2018"},{"url":"/whatsnew/w201806","title":"Что нового. Июнь 2018"},{"url":"/whatsnew/w201807","title":"Что нового. Июль 2018"},{"url":"/xaml/index","title":"Представления Xaml"},{"url":"/xaml/bind/bind","title":"Bind"},{"url":"/xaml/bind/bindcmd","title":"BindCmd"},{"url":"/xaml/bind/index","title":"Привязки"},{"url":"/xaml/containers/block","title":"Xaml.Block"},{"url":"/xaml/containers/container","title":"Xaml.Container"},{"url":"/xaml/containers/dialog","title":"Xaml.Dialog"},{"url":"/xaml/containers/dropdownmenu","title":"Xaml.DropDownMenu"},{"url":"/xaml/containers/grid","title":"Xaml.Grid"},{"url":"/xaml/containers/gridgroup","title":"Xaml.GridGroup"},{"url":"/xaml/containers/include","title":"Xaml.Include"},{"url":"/xaml/containers/index","title":"XAML. Контейнеры"},{"url":"/xaml/containers/partial","title":"Xaml.Partial"},{"url":"/xaml/containers/splitter","title":"Xaml.Splitter"},{"url":"/xaml/containers/stackpanel","title":"Xaml.StackPanel"},{"url":"/xaml/containers/taskpad","title":"Xaml.Taskpad"},{"url":"/xaml/controls/button","title":"Xaml.Button"},{"url":"/xaml/controls/checkbox","title":"Xaml.CheckBox"},{"url":"/xaml/controls/datagrid","title":"Xaml.DataGrid"},{"url":"/xaml/controls/datagridcolumn","title":"Xaml.DataGridColumn"},{"url":"/xaml/controls/datepicker","title":"Xaml.DatePicker"},{"url":"/xaml/controls/image","title":"Xaml.Image"},{"url":"/xaml/controls/index","title":"XAML. Элементы управления"},{"url":"/xaml/controls/list","title":"Xaml.List"},{"url":"/xaml/controls/listitem","title":"Xaml.List"},{"url":"/xaml/controls/menuitem","title":"Xaml.MenuItem"},{"url":"/xaml/controls/periodpicker","title":"Xaml.PeriodPicker"},{"url":"/xaml/controls/radio","title":"Xaml.Radio"},{"url":"/xaml/controls/selector","title":"Xaml.Selector"},{"url":"/xaml/controls/table","title":"Xaml.Table"},{"url":"/xaml/controls/tablecell","title":"Xaml.TableCell"},{"url":"/xaml/controls/tablemarkcell","title":"Xaml.TableMarkCell"},{"url":"/xaml/controls/tablerow","title":"Xaml.TableRow"},{"url":"/xaml/controls/textbox","title":"Xaml.TextBox"},{"url":"/xaml/text/break","title":"Xaml.Break"},{"url":"/xaml/text/hyperlink","title":"Xaml.Hyperlink"},{"url":"/xaml/text/index","title":"XAML. Текстовые управления"},{"url":"/xaml/text/inline","title":"Xaml.Inline"},{"url":"/xaml/text/line","title":"Xaml.Line"},{"url":"/xaml/text/popover","title":"Xaml.Popover"},{"url":"/xaml/text/span","title":"Xaml.Span"},{"url":"/xaml/text/taglabel","title":"Xaml.TagLabel"},{"url":"/xaml/text/text","title":"Xaml.Text"}];const index = {"Bind":[20],"BindCmd":[21],"Block":[23],"Break":[53],"Button":[35],"CheckBox":[36],"commands":[6],"Controls":[41],"DataGrid":[37],"DataGridColumn":[38],"DatePicker":[39],"Dialog":[25],"DropDownMenu":[26],"events":[7],"Grid":[27],"Grid.Col":[27],"Grid.ColSpan":[27],"Grid.Row":[27],"Grid.RowSpan":[27],"GridGroup":[28],"Hyperlink":[54],"Image":[40],"Include":[29],"Inline":[56],"Inlines":[55],"Line":[57],"List":[42,43],"MenuItem":[44],"model.json":[5],"Partial":[31],"PeriodPicker":[45],"Popover":[58],"properties":[9],"Radio":[46],"Selector":[47],"Span":[59],"Splitter":[32],"StackPanel":[33],"Table":[48],"TableCell":[49],"TableMarkCell":[50],"TableRow":[51],"TagLabel":[60],"Taskpad":[34],"template":[8],"Text":[61],"TextBox":[52],"validators":[10],"Валидаторы":[10],"Команды":[6],"Контейнеры":[30],"Модели":[4],"Модели данных":[3],"Свойства":[9],"События":[7],"Текстовые элементы":[55],"Что нового":[12,13,14,15,16,17,18],"Шаблон":[8],"Элементы управления":[41]};const fts = {"платформа":[0],"а2v10":[0],"представляет":[0,23,25,26,27,28,29,31,32,33,34,60],"собой":[0,23,25,26,27,28,29,31,32,33,34,60],"инструментальное":[0],"средство":[0],"предназначенное":[0],"разработки":[0],"прикладных":[0],"решений":[0],"связанных":[0,15],"автоматизацией":[0],"учета":[0],"управления":[0,15,23,25,27,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],"предприятием":[0],"справочная":[0,1],"система":[0,1],"рассчитана":[0],"тех":[0],"разрабатывает":[0],"устанавливает":[0],"настраивает":[0],"обслуживает":[0],"прикладные":[0],"решения":[0],"построенные":[0],"этой":[0],"программной":[0],"платформе":[0,12],"обратите":[0],"внимание":[0],"справочной":[0,1,13],"системе":[0,1],"содержится":[0],"информация":[0],"конечных":[0],"пользователей":[0,17],"включает":[0],"описание":[0,27,28,33,60],"принципов":[0],"построения":[0],"платформы":[0,12],"объектной":[0],"модели":[0,3,4,13,15,17],"свойствах/методах/событиях":[0],"структуры":[0],"базы":[0],"данных":[0,3,13,14,15,16,17,18,27,41],"нового":[0,12],"краткая":[0],"последних":[0],"изменениях":[0],"документации":[0],"создана":[1],"использованием":[1,13],"программного":[1],"обеспечения":[1],"открытым":[1],"исходным":[1],"кодом:":[1],"vue.js":[1],"copyright":[1],"2014":[1],"2018":[1,12,13,14,15,16,17,18],"evan":[1],"you":[1],"домашняя":[1],"страница":[1],"лицензия":[1],"контроллеры":[2],"файл":[5,13],"model.json":[5,13,17],"шаблоны":[6,7,8,9,10,13,17],"команды":[6,17],"события":[7,17],"свойства":[9,15,16,17,23,24,25,26,27,28,29,31,32,33,34,60],"валидаторы":[10,14,17],"представления":[11,19,28],"а2":[12],"этом":[12],"разделе":[12],"описываются":[12],"последние":[12],"изменения":[12,15,41],"дополнения":[12],"программах":[12],"версии":[12,13,14,15,16,17,18],"10":[12],"текущий":[12],"номер":[12,27],"отображается":[12],"правом":[12],"нижнем":[12],"углу":[12],"окна":[12],"браузера":[12],"выпуск":[12,13,14,15,16,17,18],"6":[12,18],"июль":[12,18],"5":[12,17],"июнь":[12,17],"4":[12,16],"май":[12,16],"3":[12,15],"апрель":[12,15],"2":[12,14],"март":[12,14],"1":[12,13,27],"февраль":[12,13],"7109":[13],"7119":[13],"выпуски":[13,14,15,16,17,18],"|":[13,14,15,16,17,18],"предыдущий":[13,14,15,16,17,18],"следующий":[13,14,15,16,17,18],"общие":[13,14,15,16,17,18],"исправлена":[13,14,15,17],"ошибка":[13,14,15,17],"которой":[13,14,15,17],"нельзя":[13,14],"было":[13,14,28],"очистить":[13],"фильтр":[13],"перезагрузки":[13],"страницы":[13,30],"добавлены":[13,14,15,16,17],"темы":[13],"пользовательского":[13,27],"интерфейса":[13,27],"добавлена":[13,14,15,16,18],"возможность":[13,15,18],"работы":[13,14,16,18],"пользовательской":[13],"системой":[13],"открытии":[13],"элемента":[13,15,27,33,55,60],"новом":[13],"окне":[13],"кнопка":[13,41],"закрыть":[13],"закрывает":[13],"окно":[13],"пытается":[13],"перейти":[13],"предыдущую":[13],"страницу":[13],"можно":[13,14,17,18],"открыть":[13],"диалог":[13],"приводило":[13],"к":[13,17,27,28],"непредсказуемому":[13],"поведению":[13],"модель":[13,14,15,16,18],"описания":[13],"параметры":[13],"моделей":[13],"действиях":[13],"actions":[13],"работала":[13],"локализация":[13],"объектах":[13],"вложенными":[13],"свойствами":[13],"например":[13,28],"таком":[13],"свойстве:":[13],"agent.name":[13],"tagent":[13],"name":[13,17],"включаемых":[13],"модулях":[13],"require":[13],"xaml":[13,14,15,16,17,18,19],"неправильно":[13,14,15,17],"работало":[13,15,17],"свойство":[13,14,15,17,18,27,28,60],"disabled":[13],"объекта":[13,17],"menuitem":[13,41,44],"элемент":[13,14,15,16,17,18,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],"dropdownmenu":[13,26,30],"поддерживает":[13,17],"itemssource":[13],"привязках":[13],"указанным":[13],"форматом":[13],"исправлено":[13,17],"правой":[13],"нижней":[13],"панели":[13,17,32,33],"splitter":[13,30,32],"задавать":[13,14,17],"минимально":[13],"допустимую":[13],"ширину":[13],"только":[13],"чтение":[13],"запрещался":[13],"selector":[13,14,15,41,47],"добавлен":[13,14,15,16,17],"taglabel":[13,14,17,55,60],"tabindex":[13],"кнопок":[13],"button":[13,35,41],"радиокнопок":[13],"radio":[13,18,41,46],"флажков":[13,18],"checkbox":[13,36,41],"dialog":[13,25,30],"добавлено":[13,14,15,17,18],"helpurl":[13],"tablemarkcell":[13,41,50],"tablerow":[13,41,51],"mark":[13],"объекте":[13,17],"grid":[13,27,28,30],"колонок":[13,27],"высоту":[13],"строк":[13,27],"c":[13],"единиц":[13],"измерения":[13],"rem":[13],"em":[13],"отрицание":[13],"условия":[13],"bind":[13,15,17,20],"вложенных":[13],"элементов":[13,27,28,30,33],"привязки":[13,22,27],"команд":[13],"bindcmd":[13,17,21],"checkargument":[13],"7122":[14],"7149":[14],"объектов":[14],"текстовыми":[14],"идентификаторми":[14],"передавалось":[14],"хранимую":[14],"процедуру":[14],"обновления":[14],"пустое":[14],"значение":[14,17],"идентификатора":[14],"пустая":[14],"строка":[14,41],"вместо":[14],"null":[14],"модули":[14,15,18],"утилиты":[14],"датами":[14],"методы":[14],"add":[14],"compare":[14],"staticimage":[14],"панель":[14,30,34],"fullheightpanel":[14],"stackpanel":[14,30,33],"alignitems":[14,33],"toolbar":[14],"добавлять":[14],"стилизованные":[14],"кнопки":[14],"дополнительные":[14],"стили":[14,15],"gold":[14,60],"purple":[14,60],"pink":[14,60],"blue":[14,60],"salmon":[14,60],"seagreen":[14,60],"tan":[14,60],"magenta":[14,60],"команде":[14],"create":[14],"аргументы":[14],"умолчанию":[14,27],"снизу":[14],"bottomleft":[14],"table":[14,27,41,48],"cellspacing":[14],"include":[14,29,30],"partial":[14,30,31],"listitem":[14,17,41],"command":[14],"list":[14,17,41,42,43],"background":[14,17],"placeholder":[14],"datagridcolumn":[14,15,38,41],"bold":[14],"команда":[14],"mailto":[14],"7150":[15],"7172":[15],"пароля":[15],"самим":[15],"пользователем":[15],"загружать":[15],"пользовательские":[15],"метаданные":[15],"длина":[15],"текстовых":[15],"полей":[15],"элементах":[15],"эта":[15],"учитывается":[15],"автоматически":[15],"utils.fromjson":[15],"utils.date.diff":[15],"arr.$selectedindex":[15],"image":[15,40,41],"textbox":[15,41,52],"updatetrigger":[15],"datepicker":[15,39,41],"direction":[15],"if":[15,27,28],"show":[15,28],"tab":[15],"случае":[15],"связанного":[15],"block":[15,16,17,23,30],"height":[15,16,17,27],"scroll":[15,16],"border":[15],"align":[15],"mask":[15,17],"updateafter":[15],"itemspanel":[15],"panelplacement":[15],"7173":[16],"7199":[16],"модуль":[16],"периодом":[16],"диапазоном":[16],"дат":[16],"utils.period":[16],"работа":[16],"periodpicker":[16,41,45],"7200":[17],"7236":[17],"select":[17],"привязке":[17],"validrequired":[17],"export":[17],"рабала":[17],"привязка":[17],"value":[17],"filteritem":[17],"регистрации":[17],"протоколирование":[17],"отправки":[17],"e":[17],"mail":[17],"механизм":[17],"формирования":[17],"xml":[17],"файлов":[17],"заданной":[17],"схеме":[17],"файле":[17],"app.json":[17],"обратная":[17],"связь":[17],"файлы":[17],"приложения":[17],"элементе":[17],"reports":[17],"файла":[17],"может":[17],"содержать":[17],"макросы":[17],"доступа":[17],"свойствам":[17],"..":[17],"событие":[17],"model.saved":[17],"*.change":[17],"аргумент":[17],"oldvalue":[17],"предыдущее":[17],"могут":[17],"быть":[17,27],"функциями":[17],"gridgroup":[17,28,30],"footer":[17],"color":[17],"taskpad":[17,30,34],"collapsible":[17],"новый":[17],"стиль":[17,60],"lightgray":[17,60],"связывание":[17],"привязку":[17],"navigate":[17],"help":[17],"download":[17],"новые":[17],"иконки":[17],"arrowupgreen":[17],"arrowdownred":[17],"7237":[18],"7241":[18],"загружаемыми":[18],"файлами":[18],"формата":[18],"*.xlsx":[18],"style":[18,60],"отображать":[18],"радиокнопки":[18],"виде":[18],"контейнеры":[23,24,25,26,27,28,29,30,31,32,33,34],"контейнер":[23,25,27,29,31,32,33,34],"содержит":[23,25],"другие":[23,25],"элементы":[23,25,27,30,33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],"абстрактный":[24,56],"container":[24,33,34],"выпадающее":[26,30],"меню":[26,30,41],"сетку":[27],"примечание":[27],"используется":[27,60],"макетах":[27],"предназначен":[27,28],"отображения":[27,41,55,60],"данным":[27],"используйте":[27],"соответствующие":[27],"упрвления":[27],"как":[27,28],"datagrid":[27,37,41],"имя":[27,28,33,60],"тип":[27,28,33,60],"children":[27,28],"uielementcollection":[27,28],"содержимого":[27,28,60],"коллекция":[27,28],"дочерних":[27,28,33],"сетки":[27,28,30],"унаследовано":[27,28],"от":[27,28],"contrainer":[27,28],"boolean":[27,28],"включать":[27,28],"ли":[27],"поток":[27,28],"рендеринга":[27,28],"length":[27],"высота":[27],"rows":[27],"rowdefinitions":[27],"определения":[27],"columns":[27],"columndefinitions":[27],"присоединенные":[27,28,32],"grid.row":[27,28],"int32":[27],"определяет":[27],"строки":[27,55],"должен":[27],"помещен":[27],"дочерний":[27],"grid.col":[27,28],"колонки":[27],"grid.rowspan":[27],"количество":[27],"будет":[27],"занимать":[27],"grid.colspan":[27],"grid.valign":[27],"verticalalign":[27],"вертикальное":[27],"выравнивание":[27,33],"дочернего":[27],"таблицы":[27,41],"top":[27],"группу":[28],"имеет":[28],"внешнего":[28],"чтобы":[28],"удобно":[28],"скрывать/показывать":[28],"группы":[28],"помощью":[28],"свойств":[28],"hide":[28],"является":[28],"прозрачным":[28],"точки":[28],"зрения":[28],"присоединенных":[28],"означает":[28],"будут":[28],"относиться":[28],"родительскому":[28],"контейнеру":[28],"показывать":[28],"элементв":[28],"скрывать":[28],"контейнерные":[30],"используются":[30,41,55],"размещения":[30],"блок":[30],"сетка":[30],"группа":[30],"вложенное":[30],"содержимое":[30,60],"часть":[30],"разделитель":[30],"задач":[30,34],"содержащий":[32],"две":[32],"изменяемыми":[32],"размерами":[32],"котором":[33],"дочерние":[33],"выравниваются":[33],"одну":[33],"линию":[33],"ориентированную":[33],"вертикально":[33],"горизонтально":[33],"базовый":[33,34,60],"элемент:":[33,34,60],"orientation":[33],"enum":[33,60],"ориентация":[33],"возможные":[33,60],"значения:":[33,60],"vertical":[33],"размещаются":[33],"сверху":[33],"вниз":[33],"horizontal":[33],"слева":[33],"направо":[33],"default":[33,60],"baseline":[33],"center":[33],"start":[33],"end":[33],"базового":[33,60],"controls":[41],"ввода":[41],"флажок":[41],"таблица":[41],"колонка":[41],"выбор":[41],"даты":[41],"картинка":[41],"список":[41],"списка":[41],"периода":[41],"радиокнопка":[41],"селектор":[41],"tablecell":[41,49],"ячейка":[41],"маркера":[41],"таблице":[41],"текстовый":[41],"редактор":[41],"break":[53,55],"текстовые":[53,54,55,56,57,58,59,60,61],"hyperlink":[54,55],"inlines":[55],"текста/картинок":[55],"text":[55,61],"текст":[55],"span":[55,59],"строчный":[55],"метка":[55],"тег":[55],"ссылка":[55],"popover":[55,58],"всплывающего":[55],"перенос":[55],"line":[55,57],"горизонтальная":[55],"линия":[55],"inline":[56,60],"текстовую":[60],"метку":[60],"маркер":[60],"чаще":[60],"всего":[60],"состояния":[60],"либо":[60],"content":[60],"string":[60],"текстовое":[60],"метки":[60],"green":[60],"success":[60],"warning":[60],"orange":[60],"info":[60],"cyan":[60],"error":[60],"danger":[60],"red":[60]};window.app = {content: content, files: files, index: index, fts: fts};})();/* Copyright © 2017-2018 Alex Kukhtin. All rights reserved.*/(function () {function doNavigate(event) {event.preventDefault();let route = this.getAttribute('data-route');window.vm.$emit('navigate', route);}function setHrefs(body) {let a = body.querySelectorAll('a');a.forEach(function (an) {let href = an.getAttribute('href');if (href.startsWith('http')) return; /* external link */an.setAttribute('href', '');an.setAttribute('data-route', href);an.addEventListener('click', doNavigate);});let img = body.querySelectorAll('img');img.forEach(function (im) {let src = im.getAttribute('src');im.setAttribute('src', '/html/' + src);});}function loadHtml(url) {return new Promise(function (resolve, reject) {let xhr = new XMLHttpRequest();xhr.onload = function () {if (xhr.responseText.startsWith('<!DOCTYPE')) {let body = document.createElement("body");let elem = document.createElement("div");body.appendChild(elem);elem.innerText = 'Not found';resolve(body);}else {let prs = new DOMParser();let doc = prs.parseFromString(xhr.responseText, 'text/html');let body = doc.body;setHrefs(body);resolve(body);}};xhr.open('GET', url, true);xhr.send();});}Vue.component('a2-include', {template: '<div class="content-view"></div>',props: {source: String},watch: {source: function (newSource, oldSource) {this.navigateTo(newSource);}},methods: {navigateTo(url) {let me = this;if (url === '/')url += 'index';/*console.warn(url);*/loadHtml('/html' + url + '.html').then(function (elem) {me.$el.innerHTML = '';let div = document.createElement('div');let ch = elem.children;let cha = [];/* for..of does not not for HtmlCollection in EDGE */let esrc = elem.children;for (let i = 0; i < esrc.length; i++) {cha.push(esrc[i]);}for (ch of cha)me.$el.appendChild(ch);});}}});})();/* Copyright © 2017-2018 Alex Kukhtin. All rights reserved.*/(function () {const treeItemComponent = {name: 'tree-item',template: `<li :title="item.title" @click.stop.prevent="doClick(item)":class="{expanded: isExpanded, collapsed:isCollapsed, active:isActive(item)}" ><div class="overlay"><a class="toggle" v-if="isFolder" href @click.stop.prevent="toggle"></a><span v-else class="toggle"/><i :class="iconClass"/><a :href="dataHref" tabindex="-1" v-text="item.title"/></div><ul v-if="isFolder" v-show="isExpanded"><tree-item v-for="(itm, index) in item.items":key="index" :item="itm" :click="click" :get-href="getHref" :is-active="isActive" :expand="expand" :root-items="rootItems"/></ul></li>`,props: {item: Object,options: Object,rootItems: Array,/* callbacks */click: Function,expand: Function,isActive: Function,getHref: Function},methods: {doClick(item) {this.click(item);},toggle() {if (!this.isFolder)return;Vue.set(this.item, "open", !this.item.open);if (!this.item.open) {/* close all inner */this.closeInner(this.item);}},closeInner(itm) {if (!itm.items) return;itm.items.forEach(t => {if (t.open) Vue.set(t, 'open', false);this.closeInner(t);});}},computed: {isFolder: function () {let ch = this.item.items;return ch && ch.length;},isExpanded: function () {return this.isFolder && this.item.open;},isCollapsed: function () {return this.isFolder && !this.item.open;},iconClass: function () {return "ico ico-" + (this.isFolder ? "node" : "leaf");},dataHref() {return this.getHref ? this.getHref(this.item) : '';}}};Vue.component('tree-view', {components: {'tree-item': treeItemComponent},template: `<ul class="tree-view">    <tree-item v-for="(itm, index) in items" :options="options" :get-href="getHref"        :item="itm" :key="index"        :click="click" :is-active="isActive" :expand="expand" :root-items="items">    </tree-item></ul>        `,props: {options: Object,items: Array,isActive: Function,click: Function,expand: Function,getHref: Function},computed: {},methods: {},created() {},updated() {}});Vue.component('a2-content-view', {template: '<div class="sub-side"><tree-view ref="treeView" :items="root.items" :click="navigate" :is-active="isActive" :get-href="getHRef"></tree-view></div>',data() {return {root: window.app.content};},computed: {currentUrl() {return window.location.pathname;}},methods: {navigate(item) {var vm = window.vm;vm.$emit('navigate', item.url);this.findActive(item.url);},isActive(item) {return item.active;},getHRef(item) {return item.url;},findActive(url) {function findOne(item) {let active = item.url.toLowerCase() === url.toLowerCase();Vue.set(item, 'active', active);if (active)document.title = item.title;if (!item.items) return;item.items.forEach(findOne);if (item.items.some(itm => itm.active || itm.open)) {Vue.set(item, 'open', true);}}this.root.items.forEach(findOne);}},mounted() {const vm = window.vm;vm.$on('navigated', (url) => {/*console.warn('navigated:' + url);*/this.findActive(url);});}});})();/* Copyright © 2017-2018 Alex Kukhtin. All rights reserved. */(function () {Vue.component('a2-index-view', {template: `<div class="sub-side"><div class="index-view"><div class="search-block"><label>Введите ключевое слово для поиска:</label><input class="input-search" type=text v-model="fragment"></input></div><ul class="index-tree"><li v-for="(val, valIndex) in list"><a :class="{'active': isActive(val)}" v-if="val.files.length === 1" v-text="val.word" @click.stop.prevent="navigate(val, 0)"></a><div v-else><span class="word-folder" v-text="val.word"></span><ul><li class="file-link" v-for="(itm, itmIndex) in val.files"><a :class="{active: isActive(itm)}" v-text="itm.title" @click.stop.prevent="navigateFile(itm)"></a></li></ul></div></li></ul></div></div>`,/*<pre>list: {{active}}</pre><pre v-once>{{root}}</pre><pre v-once>{{files}}</pre>*/data() {return {root: window.app.index,files: window.app.files,active: null,fragment: ''};},computed: {list() {const f = this.fragment.toLowerCase();const root = this.root;const files = this.files;return Object.keys(this.root).filter(val => !f || val.toLowerCase().indexOf(f) !== -1).map(v => { return { word: v, files: root[v].map(f => files[f]) }; });}},methods: {isActive(itm) {return itm === this.active;},navigate(itm, ix) {var vm = window.vm;this.active = itm;vm.$emit('navigate', itm.files[ix].url);},navigateFile(itm) {var vm = window.vm;this.active = itm;vm.$emit('navigate', itm.url);}},mounted() {}});})();/* Copyright © 2017-2018 Alex Kukhtin. All rights reserved.*/(function () {/* {{key}} : {{res}} : {{res.length}} */const debugMode = false;Vue.component('a2-search-view', {template:`<div class="sub-side"><div class="index-view"><div class="search-block"><label>Введите слово для поиска:</label><input class="input-search" v-model.lazy="searchText"><a v-if="debugMode" @click="showDebug">debug</a></div><ul class="debug-list" v-if="debugVisible"><li v-for="(res, key) in words" v-text="res"></li></ul><ul class="index-tree" v-else><li v-for="(res, key) in searchResult"><a v-text="key" v-if="res.length == 1" :class="{active: isActive(res[0], key)}" @click.stop.prevent="navigate(res[0], key)"></a><div v-else><span class="word-folder" v-text="key"></span><ul><li class="file-link" v-for="(ix) in res"><a v-text="file(ix)" :class="{active: isActive(ix, key)}" @click.stop.prevent="navigate(ix, key)"></a></li></ul></div></li></ul></div></div>`,data() {return {searchText: '',activeKey: '',activeIndex: 0,debugMode: debugMode,debugVisible: false};},watch: {searchText(newVal) {}},computed: {words() {let fts = window.app.fts;return Object.keys(fts);},searchResult() {let fts = window.app.fts;let r = {};if (!this.searchText) return r;let st = this.searchText.toUpperCase();for (let key in fts) {if (key.toUpperCase().indexOf(st) !== -1)r[key] = fts[key];}return r;}},methods: {file(ix) {let file = window.app.files[ix];return file ? file.title : '#ERR';},isActive(ix, key) {return ix === this.activeIndex && key === this.activeKey;},navigate(ix, key) {var vm = window.vm;this.activeKey = key;this.activeIndex = ix;vm.$emit('navigateFile', ix);},showDebug() {if (this.debugMode)this.debugVisible = true;}}});})();/* Copyright © 2017-2018 Alex Kukhtin. All rights reserved. */(function () {function makeUrl(url) {if (url.startsWith('/'))return url; /* root-based */let cUrl = window.location.pathname.split('/').filter(x => !!x);cUrl.splice(cUrl.length - 1, 1);let nUrl = url.split('/').filter(x => !!x);let xUrl = [];nUrl.forEach(x => {if (x === '..') {cUrl.splice(cUrl.length - 1, 1);} else {xUrl.push(x);}});let newUrl = cUrl.concat(xUrl);return '/' + newUrl.join('/');}const vm = new Vue({el: '#app',data: {content: '',activeTab: 'content'},methods: {navigate(url) {                url = makeUrl(url);                if (this.content === url)                    return;window.history.pushState(null, null, url);                this.content = url;                this.$emit('navigated', this.content);},tab(name) {this.activeTab = name;},isActive(name) {return name === this.activeTab;}},created() {let me = this;            window.vm = this;window.addEventListener('popstate', function () {                me.content = window.location.pathname;                me.$emit('navigated', me.content);}, false);this.$on('navigate', function (url) {me.navigate(url);});            this.$on('navigateFile', function (index) {let files = window.app.files;let file = files[index];me.navigate(file.url);});},mounted() {let url = window.location.pathname;if (url === '/')url = '/index';this.navigate(url);}    });})();